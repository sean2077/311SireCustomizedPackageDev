# 数据汇总

排序本页 markdown 表格，请在项目根目录运行:

```bash
python sort_mk_table.py material/数据汇总.md  -s 0 -c 0=int16
```

## 设施类型ID

| ID   | 设施类型 |
| :--- | :------- |
| 0x0  | 城市     |
| 0x1  | 关隘     |
| 0x2  | 港口     |
| 0x3  | 阵       |
| 0x4  | 砦       |
| 0x5  | 城塞     |
| 0x6  | 箭楼     |
| 0x7  | 连弩楼   |
| 0x8  | 土垒     |
| 0x9  | 石墙     |
| 0xa  | 投石台   |
| 0xb  | 太鼓台   |
| 0xc  | 军乐台   |
| 0xd  | 石兵八阵 |
| 0xe  | 根据地   |
| 0xf  | 根据地   |
| 0x10 | 火种     |
| 0x11 | 火焰种   |
| 0x12 | 火球     |
| 0x13 | 火焰球   |
| 0x14 | 火船     |
| 0x15 | 业火球   |
| 0x16 | 业火种   |
| 0x17 | 落石     |
| 0x18 | 堤防     |
| 0x19 | 浅滩     |
| 0x1a | 山岳     |
| 0x1b | 长城     |
| 0x1c | 遗迹     |
| 0x1d | 庙       |
| 0x1e | 太学     |
| 0x1f | 一级市场 |
| 0x20 | 一级农场 |
| 0x21 | 一级兵舍 |
| 0x22 | 一级锻造 |
| 0x23 | 一级厩舍 |
| 0x24 | 工房     |
| 0x25 | 造船厂   |
| 0x26 | 造币厂   |
| 0x27 | 谷仓     |
| 0x28 | 刑部     |
| 0x29 | 兵部     |
| 0x2A | 工部     |
| 0x2B | 礼部     |
| 0x2C | 吏部     |
| 0x2D | 户部     |
| 0x2E | 大市场   |
| 0x2F | 鱼市     |
| 0x30 | 黑市     |
| 0x31 | 军屯农   |
| 0x32 | 二级市场 |
| 0x33 | 三级市场 |
| 0x34 | 二级农场 |
| 0x35 | 三级农场 |
| 0x36 | 二级兵舍 |
| 0x37 | 三级兵舍 |
| 0x38 | 二级锻造 |
| 0x39 | 三级锻造 |
| 0x3A | 二级厩舍 |
| 0x3B | 三级厩舍 |

## 兵装编号

注：兵装编号对应兵种

| 编号 | 名称                                    |
| :--- | :-------------------------------------- |
| 0    | 剑 （血色6.0用该兵装数量指代城市人口）  |
| 1    | 枪                                      |
| 2    | 戟                                      |
| 3    | 弩                                      |
| 4    | 马                                      |
| 5    | 冲车                                    |
| 6    | 井栏                                    |
| 7    | 投石                                    |
| 8    | 木兽                                    |
| 9    | 小船（血色6.0用该兵装数量指代农村人口） |
| 10   | 楼船                                    |
| 11   | 斗舰                                    |

## 兵科编号

| 编号 | 名称 |
| :--- | :--- |
| 0    | 枪   |
| 1    | 戟   |
| 2    | 弩   |
| 3    | 骑   |
| 4    | 兵器 |
| 5    | 水军 |


## 武将身份

flag = 1<<身份序号（0-8）

| 身份序号 | 描述   |
| :------- | :----- |
| -1       | 无     |
| 0        | 君主   |
| 1        | 都督   |
| 2        | 太守   |
| 3        | 一般   |
| 4        | 在野   |
| 5        | 俘虏   |
| 6        | 未登场 |
| 7        | 未发现 |
| 8        | 死亡   |

## 武将身体状态

| 状态 | 描述 |
| :--- | :--- |
| 0    | 健康 |
| 1    | 轻伤 |
| 2    | 重伤 |
| 3    | 濒危 |


## 城市特色

| 特色编号 | 特色名称 |
| :------- | :------- |


## 获取势力信息

函数地址: 004C4260
GetInfo case: 1

| 信息编号 | 信息描述 |
| :------- | :------- |



## 获取军团信息

函数地址: 004C2960
GetInfo case: 2

| 信息编号 | 信息描述                                           |
| :------- | :------------------------------------------------- |
| 3        | 所属势力ID                                         |
| 5        | 军团长ID                                           |
| 6        | 方针                                               |
| 7        | 方针目标ID                                         |
| 8        | 军团总城市人口数                                   |
| 9        | 军团总农村人口数                                   |
| 10       | 军团总城市数                                       |
| 11       | 军团总现役+俘虏武将数                              |
| 12       | 军团总兵力(据点+部队)                              |
| 13       | 军团总金钱(据点+部队)                              |
| 14       | 军团所有据点金钱支出                               |
| 15       | 军团所有据点金钱收入                               |
| 16       | 军团预计金钱                                       |
| 17       | 军团所有据点金钱是否充足                           |
| 18       | 军团总兵粮(据点+部队)                              |
| 19       | 军团总粮食支出                                     |
| 20       | 军团总粮食收入                                     |
| 21       | 军团预计粮食                                       |
| 22       | 军团所有据点和部队粮食是否充足                     |
| 25       | 军团总金钱上限(据点+部队)                          |
| 26       | 军团总粮食上限(据点+部队)                          |
| 27       | 军团总兵力上限(据点+部队)                          |
| 35       | 军团建成的太学(编号30)数量                         |
| 36       | 军团太学(编号30)数量                               |
| 0,2      | 军团ID                                             |
| 1,24     | 军团ID                                             |
| 103-114  | 兵装0-11                                           |
| 115-147  | 31-63(1F-3F)已完成设施个数                         |
| 148-180  | 31-63(1F-3F)设施个数                               |
| 181-187  | 31-37(1F-25)设施个数（高级设施也归入低级设施统计） |
| 28-34    | 获取兵装数量                                       |
| 37-69    | 31-63(1F-3F)已完成设施个数                         |
| 4,23     | 军团番号                                           |
| 70-102   | 31-63(1F-3F)设施个数                               |



## 获取城港关信息

函数地址: 004C69A0
GetInfo case: 5

| 信息编号 | 信息描述                                   |
| :------- | :----------------------------------------- |
| 1        | 返回-1                                     |
| 3        | 设施类型ID                                 |
| 4        | 所属势力ID                                 |
| 5        | 耐久                                       |
| 6        | fld_1C低 8 位，疑似某坐标？                |
| 7        | 建设完成 (0=未完成,1=已完成)               |
| 8        | 设施是否着火                               |
| 9        | 城市人口                                   |
| 10       | 农村人口                                   |
| 11       | 设施最大耐久                               |
| 12       | 所属军团ID                                 |
| 13       | 所属军团番号                               |
| 14       | 太守ID                                     |
| 15       | 据点身份flag 为 15 的武将个数（TODO）      |
| 16       | 据点身份flag 为 32 的武将个数（TODO）      |
| 17       | 金钱                                       |
| 18       | 兵粮                                       |
| 19       | 兵力                                       |
| 20       | 气力                                       |
| 21       | 金钱收入                                   |
| 22       | 金钱支出                                   |
| 23       | 预计金钱                                   |
| 24       | 金钱是否充足                               |
| 25       | 粮食收入                                   |
| 26       | 粮食支出                                   |
| 27       | 预计粮食                                   |
| 28       | 粮食是否充足                               |
| 29       | 据点附近是否有敌人                         |
| 30       | 所属城市ID                                 |
| 31       | 是否已训练                                 |
| 32       | 治安                                       |
| 33       | 金钱上限                                   |
| 34       | 粮食上限                                   |
| 35       | 兵力上限                                   |
| 36       | 兵装1                                      |
| 37       | 兵装2                                      |
| 38       | 兵装3                                      |
| 39       | 兵装4                                      |
| 40       | 兵装5或8                                   |
| 41       | 兵装6或7                                   |
| 42       | 兵装10或11                                 |
| 43       | 未知(28字段)                               |
| 44       | 未知(2C字段)                               |
| 104      | 空内政用地                                 |
| 105      | 未行动武将数                               |
| 106      | 身份4的武将数                              |
| 0,2      | 返回设施 ID                                |
| 45-56    | 兵装0-11                                   |
| 57-59    | 城市是否处于特殊状态(0=疫病,1=灾害,2=丰作) |
| 60-103   | 任务编码0-43相关                           |



## 获取城市信息

函数地址: 004C69A0
GetInfo case: 6

| 信息编号 | 信息描述                                                     |
| :------- | :----------------------------------------------------------- |
| 1        | 返回-1                                                       |
| 3        | 所属州ID                                                     |
| 4        | 太守ID                                                       |
| 5        | 所属军团ID                                                   |
| 6        | 兵力上限                                                     |
| 7        | 兵力                                                         |
| 8        | 金钱                                                         |
| 9        | 粮食                                                         |
| 10       | 钱粮交易价格                                                 |
| 11       | 是否有商人                                                   |
| 12       | 最大耐久                                                     |
| 13       | 耐久                                                         |
| 14       | 士气                                                         |
| 15       | 治安                                                         |
| 16       | 是否交战                                                     |
| 17       | 城市人口                                                     |
| 18       | 农村人口                                                     |
| 19       | 金钱收入                                                     |
| 20       | 粮食收入                                                     |
| 21       | 科技点                                                       |
| 22       | 巡查状态                                                     |
| 23       | 商人状态                                                     |
| 24       | 训练状态                                                     |
| 25       | 空兵舍                                                       |
| 26       | 空锻造                                                       |
| 27       | 空厩舍                                                       |
| 28       | 空工房                                                       |
| 29       | 空船厂                                                       |
| 30       | 势力ID                                                       |
| 31       | 内政用地数                                                   |
| 32       | 空内政用地数                                                 |
| 33       | 已开发内政用地数                                             |
| 34       | 邻接城市数                                                   |
| 35       | 现役武将个数                                                 |
| 36       | 俘虏武将个数                                                 |
| 37       | 在野武将个数                                                 |
| 38       | 城市特产                                                     |
| 39       | 皇帝是否在此城                                               |
| 40       | 是否有异族盗贼                                               |
| 41       | 附近是否有敌军                                               |
| 42       | 敌对邻城数量                                                 |
| 43       | 返回0                                                        |
| 44       | 金钱支出                                                     |
| 45       | 预计金钱                                                     |
| 46       | 金钱是否充足                                                 |
| 47       | 粮食支出                                                     |
| 48       | 预计粮食                                                     |
| 49       | 粮食是否充足                                                 |
| 50       | 太守信息23                                                   |
| 51       | 返回20w                                                      |
| 52       | 返回200w                                                     |
| 53       | 兵装1                                                        |
| 54       | 兵装2                                                        |
| 55       | 兵装3                                                        |
| 56       | 兵装4                                                        |
| 57       | 兵装5/8                                                      |
| 58       | 兵装6/7                                                      |
| 59       | 兵装10/11                                                    |
| 60       | 跟内政设施相关?                                              |
| 61       | 未知（城市1E4字段）                                          |
| 62       | 是否建了太学                                                 |
| 63       | 太学（设施ID=30）数量？                                      |
| 0,2      | 城市ID                                                       |
| 130-135  | 相邻城市ID                                                   |
| 136-147  | 0-11兵装数量                                                 |
| 148-153  | 城市特产是否指定值(0=枪,1=戟,2=弩,3=骑,4=兵器,5=水军)        |
| 154-156  | 城市是否处于指定状态（0=疫病,1=灾害,2=丰作）                 |
| 157-159  | 城市是否处于指定预定状态（0=疫病预定,1=灾害预定,2=丰作预定） |
| 160-192  | 31-63(1F-3F)设施已完成个数                                   |
| 193-225  | 31-63(1F-3F)设施个数                                         |
| 226-232  | 31-37(1F-25)设施个数（高级设施也归入低级设施统计）           |
| 64-96    | 31-63(1F-3F)设施已完成个数                                   |
| 97-129   | 31-63(1F-3F)设施个数                                         |




## 获取武将信息

函数地址: 004C8720
GetInfo case: 10,24

| 信息编号 | 信息描述                                              |
| :------- | :---------------------------------------------------- |
| 1        | 返回-1                                                |
| 3        | 部队类型(0=战斗,1=运输)                               |
| 4        | 主将ID                                                |
| 5        | 部队兵力                                              |
| 6        | 部队气力                                              |
| 7        | 部队金钱                                              |
| 8        | 部队粮食                                              |
| 9        | 部队状态(0=正常,1=混乱,2=伪报)                        |
| 10       | 未知(应为战斗部队的某个系数0~120)                     |
| 11       | 部队任务                                              |
| 12       | 部队目标                                              |
| 13       | 目标坐标（int表示，高16位为y.低16位为x）              |
| 14       | 自身坐标（int表示，高16位为y.低16位为x）              |
| 15       | 部队是否未行动                                        |
| 16       | 部队是否已行动                                        |
| 17       | 检查部队 fld_40_HasActed 第2位是否为1（作用暂时未知） |
| 18       | 部队是否着火                                          |
| 19       | 检查部队 fld_40_HasActed 第4位是否为1（作用暂时未知） |
| 20       | 所属势力ID                                            |
| 21       | 部队所属建筑ID                                        |
| 22       | 所属军团ID                                            |
| 23       | 所属军团番号                                          |
| 24       | 所属势力ID                                            |
| 25       | 部队陆上兵装ID                                        |
| 26       | 部队水上兵装ID                                        |
| 27       | 部队攻击力                                            |
| 28       | 部队防御力                                            |
| 29       | 部队最高智                                            |
| 30       | 部队建设力                                            |
| 31       | 部队移动力                                            |
| 32       | 未知(貌似跟多线程调度有关)                            |
| 33       | 部队兵种适性                                          |
| 34       | 部队金钱上限                                          |
| 35       | 部队粮食上限                                          |
| 36       | 部队兵力上限                                          |
| 37       | 是否装备了兵装1                                       |
| 38       | 是否装备了兵装2                                       |
| 39       | 是否装备了兵装3                                       |
| 40       | 是否装备了兵装4                                       |
| 41       | 是否装备了兵装5/8                                     |
| 42       | 是否装备了兵装6/7                                     |
| 43       | 是否装备了兵装10/11                                   |
| 44       | 敌对时间？                                            |
| 45       | 应为部队陆地兵装的某特性序号                          |
| 46       | 部队耗粮                                              |
| 47       | 部队预计粮食                                          |
| 0,2      | 部队ID                                                |
| 48,49    | 获取副将ID                                            |
| 50-61    | 兵装0-11数量                                          |



## 获取部队信息

函数地址: 004CC7A0
GetInfo case: 11

| 信息编号 | 信息描述 |
| :------- | :------- |


